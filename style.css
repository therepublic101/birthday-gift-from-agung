:root{
  --bg:#0f1724;
  --accent:#ffcc33;
  --card:#111827;
  --text:#f8fafc;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Arial;background:linear-gradient(180deg,#6e6e6e 0%, #0f1724 100%);color:var(--text)}
.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
.welcome-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:32px;border-radius:12px;text-align:center;backdrop-filter:blur(4px);box-shadow:0 6px 30px rgba(2,6,23,0.6)}
.glow{font-size:32px;margin:0 0 8px;color:var(--accent);text-shadow:0 0 18px rgba(255,204,51,0.25)}
#readyBtn{padding:10px 20px;border-radius:8px;border:0;background:var(--accent);color:#081229;font-weight:700;cursor:pointer}
.stage{min-height:100vh;display:flex;align-items:center;justify-content:center}
.hidden{display:none}
.cake{position:relative;width:360px;height:260px;display:flex;align-items:flex-end;justify-content:center}
.plate{position:absolute;bottom:-15px;width:420px;height:28px;background:linear-gradient(90deg,#ddd,#bbb);border-radius:50%;filter:blur(0.5px);z-index:1}
.body{width:300px;height:160px;background:#c94b6d;border-radius:18px 18px 14px 14px;position:relative;z-index:2;display:flex;align-items:center;justify-content:center}
.icing{position:absolute;top:-12px;left:0;right:0;height:26px;background:#ffe6f0;border-radius:12px}
.candle{position:absolute;top:30px;left:50%;transform:translateX(-50%);width:18px;height:60px;display:flex;align-items:flex-start;flex-direction:column}
.wick{width:4px;height:32px;background:#222;margin:6px auto 0;border-radius:2px}
.flame{width:14px;height:22px;background:radial-gradient(circle at 35% 35%, #fff2, #ffd54d 40%, #ff6a00 70%);border-radius:50% 50% 40% 40%;margin:0 auto;box-shadow:0 0 18px rgba(255,150,30,0.6);animation:flicker 300ms infinite}
@keyframes flicker{0%{transform:translateY(0) scaleY(1)}50%{transform:translateY(-2px) scaleY(0.95)}100%{transform:translateY(0) scaleY(1)}}
.flame.out{opacity:0;transform:scale(0);transition:all 500ms ease}

/* Wish curved text */
.wish-svg{position:absolute;top:-62px;left:50%;transform:translateX(-50%);width:420px;height:150px;z-index:80;pointer-events:none}
.arc-text{font-family: 'Poppins', system-ui, Arial; font-weight:700; font-size:20px; fill:#fff; letter-spacing:1px}
.arc-text .celebrate{fill:var(--accent)}
.wish-pulse{animation:wishPulse 1100ms ease-in-out infinite}
@keyframes wishPulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.06);opacity:0.95}100%{transform:scale(1);opacity:1}}

/* sprinkles */
.sprinkles{position:absolute;left:0;right:0;top:20%;height:60%;pointer-events:none}
.sprinkle{position:absolute;width:8px;height:3px;border-radius:2px;transform:rotate(20deg);box-shadow:0 2px 4px rgba(0,0,0,0.08)}

/* mini candles */
.mini-candles{position:absolute;left:10%;top:12%;width:80%;height:10px}
.mini-candle{position:absolute;width:8px;height:26px;background:#ffde59;border-radius:4px;left:20%;top:-4px}
.mini-candle::after{content:'';position:absolute;left:50%;transform:translateX(-50%);top:-10px;width:6px;height:10px;background:radial-gradient(circle at 30% 30%, #fff2, #ffd54d 40%, #ff6a00 70%);border-radius:50%}

/* balloons */
.balloons .balloon{position:absolute;bottom:80%;width:36px;height:48px;border-radius:50%;box-shadow:0 8px 18px rgba(0,0,0,0.25);transform-origin:center bottom;animation:float 3800ms ease-in-out infinite}
.balloons .balloon::after{content:'';position:absolute;left:50%;bottom:-48px;width:2px;height:54px;background:rgba(0,0,0,0.12);transform:translateX(-50%)}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}

/* celebration text effect */
.arc-text.celebrate{filter:drop-shadow(0 6px 18px rgba(255,200,80,0.25));transition:all 600ms ease}

/* letter modal entrance animation */
.letter{opacity:0;transform:translate(-50%,-40%) scale(0.96);transition:all 360ms cubic-bezier(.2,.9,.2,1)}
.letter.show{opacity:1;transform:translate(-50%,-50%) scale(1)}

#confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:20}

.sparkles-container, #sparkles{position:absolute;top:20%;left:50%;transform:translateX(-50%);width:200px;height:120px;z-index:30}
.spark{width:6px;height:6px;background:#fff;border-radius:50%;box-shadow:0 0 12px rgba(255,255,255,0.9);animation:spark 900ms linear infinite}
@keyframes spark{0%{transform:translateY(0) scale(0.8);opacity:1}100%{transform:translateY(-60px) scale(0.2);opacity:0}}

.envelope{width:120px;height:80px;background:#fff;border-radius:6px;position:absolute;right:20%;bottom:18%;box-shadow:0 6px 20px rgba(0,0,0,0.4);cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:40;transition:all 700ms cubic-bezier(.2,.9,.2,1)}
.envelope::before{content:'';position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(135deg,#eee,#ddd);clip-path:polygon(0 0,50% 65%,100% 0)}
.envelope.centered{left:50%;right:auto;bottom:48%;transform:translateX(-50%) scale(2);z-index:600}
.envelope.opening{animation:envelopeOpen 600ms cubic-bezier(.2,.9,.2,1) forwards}
@keyframes envelopeOpen{
  0%{transform:translateX(0) scale(1);opacity:1}
  60%{transform:translateY(-18px) rotateX(18deg) scale(1.05);opacity:1}
  100%{transform:translateY(-26px) rotateX(38deg) scale(1.08);opacity:0}
}
.letter{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:320px;background:linear-gradient(180deg,#fff,#fffaf0);padding:20px;border-radius:10px;box-shadow:0 20px 60px rgba(2,6,23,0.6);color:#111;z-index:1000}
.letter .close{position:absolute;right:12px;top:8px;cursor:pointer}

@media (max-width:480px){.cake{width:260px;height:200px}.body{width:200px;height:120px}}
